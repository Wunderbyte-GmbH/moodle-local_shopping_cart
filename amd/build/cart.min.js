define ("local_shopping_cart/cart",["exports","core/ajax"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.addItem=a.deleteItem=a.init=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);a.init=function init(){document.querySelectorAll(".fa-trash-o").forEach(function(a){a.addEventListener("click",function(b){b.preventDefault();b.stopPropagation();var c=document.querySelector("#"+a.dataset.id),d=c.dataset.price,e=document.getElementById("totalprice");e.innerHTML-=d;var g=a.dataset.id.split("-").pop();f(g);document.querySelector("#"+a.dataset.id).remove();document.getElementById("countbadge").innerHTML-=1;document.getElementById("itemcount").innerHTML-=1})});document.querySelector("#nav-shopping_cart-popover-container .btn-primary.addrandom").addEventListener("click",function(a){console.log("click");a.preventDefault();a.stopPropagation();g()})};var f=function(a){b.default.call([{methodname:"local_shopping_cart_delete_item",args:{id:a},done:function done(){},fail:function fail(){}}])};a.deleteItem=f;var g=function(){console.log("deletestart");b.default.call([{methodname:"local_shopping_cart_add_item",args:{id:"1"},done:function done(a){var b="<li id=\"item-"+a.id+"\" class=\"clearfix\" data-price=\""+a.price+"\" data-name=\""+a.name+"\"><span class=\"item-name\"><i class=\"fa fa-futbol-o\" aria-hidden=\"true\"></i>"+a.name+"</span><span class=\"item-price pull-right\">"+a.price+"\u20AC</span><br><span class=\"item-time pl-3\">[<span id=\"time-item-"+a.id+"\"></span>]</span><span class=\"pull-right\"><i class=\"fa fa-trash-o lighter-text\" data-id=\"item-"+a.id+"\"></i></span></li>",d=document.getElementById("litotalprice");d.insertAdjacentHTML("beforeBegin",b);document.getElementById("countbadge").innerHTML++;document.getElementById("itemcount").innerHTML++;var f=document.getElementById("totalprice");f.innerHTML=parseInt(f.innerHTML)+parseInt(a.price);c(document.querySelector("#item-"+a.id+" .fa-trash-o"));e(a.expirationdate,a.id)},fail:function fail(){}}],!0)};a.addItem=g;function c(a){a.addEventListener("click",function(b){b.preventDefault();b.stopPropagation();var c=document.querySelector("#"+a.dataset.id),d=c.dataset.price,e=document.getElementById("totalprice");e.innerHTML-=d;var g=a.dataset.id.split("-").pop();f(g);document.querySelector("#"+a.dataset.id).remove();document.getElementById("countbadge").innerHTML-=1;document.getElementById("itemcount").innerHTML-=1})}function d(a,b){var c=a,d,e;setInterval(function(){d=parseInt(c/60,10);e=parseInt(c%60,10);d=10>d?"0"+d:d;e=10>e?"0"+e:e;b.textContent=d+":"+e;if(0>--c){c=a}},1e3)}function e(a,b){var c=0,e=Date.now("UTC");e=new Date().getTime()/1e3;c=a-e;if(0>c){c=0}var f=document.querySelector("#time-item-"+b);d(c,f)}});
//# sourceMappingURL=cart.min.js.map
