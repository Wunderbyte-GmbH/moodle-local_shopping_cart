define("local_shopping_cart/address",["exports","local_shopping_cart/notifications","core_form/modalform","core/str","../../../../lib/amd/src/templates"],(function(_exports,_notifications,_modalform,_str,_templates){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/*
   * @package    local_shopping_cart
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_exports.newAddressModal=newAddressModal,_modalform=_interopRequireDefault(_modalform),_templates=_interopRequireDefault(_templates);var SELECTORS_ADDRESSRENDERCONTAINER="#addressestemplatespace",SELECTORS_NEWADDRESSBUTTON=".shopping-cart-new-address";function newAddressModal(button){console.log("newAddressModal");var modalForm=new _modalform.default({formClass:"local_shopping_cart\\form\\modal_new_address",args:{},modalConfig:{title:(0,_str.get_string)("addresses:newaddress","local_shopping_cart")},returnFocus:button,saveButtonText:(0,_str.get_string)("addresses:newaddress:submit","local_shopping_cart")});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(function(e){var data,response=e.detail;console.log("newAddressModal response: ",response),(0,_str.get_string)("addresses:newaddress:saved","local_shopping_cart").then((function(str){(0,_notifications.showNotification)(str,"info")})),data=response.templatedata,_templates.default.renderForPromise("local_shopping_cart/address",data).then((function(_ref){var html=_ref.html,js=_ref.js;_templates.default.replaceNodeContents(document.querySelector(SELECTORS_ADDRESSRENDERCONTAINER),html,js)})).catch((function(e){console.log(e)}))})),modalForm.show()}_exports.init=function(){console.log("run init");var buttons=document.querySelectorAll(SELECTORS_NEWADDRESSBUTTON);buttons&&buttons.forEach((function(newAddressButton){newAddressButton.addEventListener("click",(function(e){e.preventDefault(),newAddressModal(newAddressButton)}))}))}}));

//# sourceMappingURL=address.min.js.map